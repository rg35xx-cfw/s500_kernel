/dts-v1/;

/include/ "actduino.dtsi"

/ {
	model = "Actions GS705A board";
	compatible = "actions,gs705a", "actions,atm7059a";

	/*default*/
	chosen {
		bootargs = "earlyprintk clk_ignore_unused selinux=0";
	};

	cpus {
		CPU0: cpu@0 {
			transition-latency = <61036>; /* two CLK32 periods */

			cpuvdd-supply = <&dcdc1>;
		};
	};

	reserved {
		tiny {
			fb_heap_size = <9>;
			kinfo_heap_size = <1>;
			carveout_heap_size = <00>;
			dma_heap_size = <32>;
		};
		normal {
			fb_heap_size = <8>;
			kinfo_heap_size = <1>;
			carveout_heap_size = <64>;
			dma_heap_size = <128>;
		};
	};
	dual_logo {
		value=<0x0>; /*dual_logo support,=0 disable, >0 enable; */
	};
    
	pinctrl@b01b0040 {
		pinctrl-names = "default";
		pinctrl-0 = <&state_default>;

		state_default: pinctrl_default {
		};

		serial0_state_default: serial0_default{
			serial_0{
				actions,groups = "mfp2_2_0","mfp3_21_19";
				actions,function = "uart0";
			};
		};

		serial0_state_d: serial0_d {
			serial_d {
				actions,groups = "mfp2_22","mfp2_23";
				actions,function = "uart0";
			};
		};

		serial1_state_default: serial1_default{
			serial_1{
				actions,groups = "mfp2_13_11";
				actions,function = "uart1";
			};
		};

		serial2_state_default: serial2_default{
			serial_2{
				actions,groups = "mfp2_23","mfp2_22","uart2_dummy";
				actions,function = "uart2";
			};
		};

		serial3_state_default: serial3_default{
			serial_3{
				actions,groups = "mfp2_21","mfp2_20","uart3_dummy";
				actions,function = "uart3";
			};
		};

		serial4_state_default: serial4_default{
			serial_4{
				actions,groups = "uart4_dummy";
				actions,function = "uart4";
			};
		};

		serial5_state_default: serial5_default{
			serial_5{
				actions,groups = "mfp2_19_17","mfp2_16_14";
				actions,function = "uart5";
			};
		};

		serial6_state_default: serial6_default{
			serial_6{
				actions,groups = "mfp0_18_16_eth_txd0", "mfp0_18_16_eth_txd1";
				actions,function = "uart6";
			};
		};

		ethernet_state_default: ethernet_default {
			ethernet_smi { /* pins: MDC & MDIO */
				actions,groups = "eth_smi_dummy";
				actions,function = "eth_rmii";
			};

			ethernet_rmii_txd01 {
				actions,groups = "mfp0_18_16_eth_txd0", "mfp0_18_16_eth_txd1";
				actions,function = "eth_rmii";
			};

			ethernet_rmii_txen_rxer {
				actions,groups = "mfp0_15_13_rmii_txen", "mfp0_15_13_rmii_rxen";
				actions,function = "eth_rmii";
			};

			ethernet_rmii_crs_dv {
				actions,groups = "mfp0_22_20";
				actions,function = "eth_rmii";
			};

			ethernet_rmii_rxd10 {
				actions,groups = "mfp0_10_8_rmii_rxd1", "mfp0_10_8_rmii_rxd0";
				actions,function = "eth_rmii";
			};

			ethernet_rmii_ref_clk {
				actions,groups = "mfp0_7_6";
				actions,function = "eth_rmii";
			};
		};

		mmc_share_uart_state: mmc_share_uart {
			sd0_mfp_cmd_clk {
				actions,groups = "mfp2_8_7", "mfp2_6_5";
				actions,function = "sd0";
			};

			sd0_pull_d0_d3_cmd {
				actions,pins = "P_SD0_CMD";
				actions,pull = <2>;
			};	
			
			sd0_pull_clk {
				actions,pins = "P_SD0_CLK";
				actions,pull = <0>;
			};
			
			sd0_d0_d3_cmd_clk_paddrv  {
				actions,groups  = "paddrv1_19_18","paddrv1_17_16";
				actions,paddrv  = <1>; /*level 1，范围0~3*/ 			
			};
			
			// 如果以后使用uart2请修改这个地方到uart2配置，现在默认是uart5
			serial_5 {
				actions,groups = "mfp2_19_17","mfp2_16_14";
				actions,function = "uart5";   
			};
		};
		
		mmc0_state_default: mmc0_default {
			sd0_mfp_d0_d3_cmd_clk {
				actions,groups = "mfp2_19_17", "mfp2_16_14", "mfp2_13_11", "mfp2_8_7", "mfp2_6_5";
				actions,function = "sd0";
			};

			sd0_pull_d0_d3_cmd {
				actions,pins = "P_SD0_D0", "P_SD0_D1", "P_SD0_D2", "P_SD0_D3", "P_SD0_CMD";
				actions,pull = <2>;
			};

			sd0_pull_clk {
				actions,pins = "P_SD0_CLK";
				actions,pull = <0>;
			};
			
			sd0_d0_d3_cmd_clk_paddrv  {
				actions,groups  = "paddrv1_23_22","paddrv1_19_18","paddrv1_17_16";
				actions,paddrv  = <1>; /*level 1，范围0~3*/ 			
			};
		};

		mmc1_state_default: mmc1_default {
			sd1_mfp_d0_d3_cmd_clk {
				actions,groups = "mfp2_10_9", "mfp2_4_3", "sd1_dummy";
				actions,function = "sd1";
			};

			sd1_pull_d0_d3_cmd {
				actions,pins = "P_SD1_D0", "P_SD1_D1", "P_SD1_D2", "P_SD1_D3", "P_SD1_CMD";
				actions,pull = <2>;
			};
			sd1_d0_d3_cmd_clk_paddrv  {
				actions,groups  = "paddrv1_21_20","paddrv1_15_14","paddrv1_13_12";
				actions,paddrv  = <1>; /*level 1，范围0~2*/ 			
			};
		};
	
		mmc2_state_default: mmc2_default {
			sd2_mfp_d0_d3_cmd_clk {
				actions,groups = "mfp3_3";
				actions,function = "sd2";
			};

			sd2_pull_d0_d3_cmd {
				actions,pins = "P_DNAND_D0","P_DNAND_D1","P_DNAND_D2","P_DNAND_D3","P_DNAND_D4","P_DNAND_D5","P_DNAND_D6","P_DNAND_D7","P_DNAND_RDBN";
				actions,pull = <2>;
			};

		};

		/* the format of isp state name: channel + pin + bus type(pin function) */
		/* channel: isp0/isp1, pin: csi/bt/sens1, bus type: dvp/mipi */
		isp0_state_csi_dvp: isp0_csi_dvp {
			isp0_csi_dvp_mfp {
				actions,groups = "mfp3_29_28", "mfp3_23_22", "mfp3_15_14", "mfp3_13_12";
				actions,function = "sens0";
			};
			sens0_clk_out_pdrv{
				 actions,groups = "paddrv2_13_12";
				 actions,paddrv = <0>;/*level 1 ,range :0~2*/
			};
		};

		isp0_state_csi_mipi: isp0_csi_mipi {
			isp0_csi_mipi_mfp {
				actions,groups = "mfp3_29_28", "mfp3_15_14";
				actions,function = "mipi_csi";
			};
			isp0_csi_mipi_clkout_mfp {
				actions,groups = "mfp3_23_22";
				actions,function = "sens0";
			};
		};

		spi0_state_csi_d: spi0_dsi_d {
			spi0_mfp {
				actions,groups = "mfp1_9_7","mfp1_20_19","mfp1_18_17","mfp2_26_24";
				actions,function = "spi0";
			};
			spi0_paddrv {
				actions,groups = "paddrv1_25_24";
				actions,paddrv = <0x02>;
			};
		};

		i2c0_state_default: i2c0_default {/* i2c0 use default pin	*/
			i2c0_default_mfp {
				actions,groups = "mfp3_18_16";
				actions,function = "i2c0";
			};

			i2c0_default_paddrv {
				actions,groups = "paddrv2_24_23";
				actions,paddrv = <0>;/*level 1*/
			};

			i2c0_default_pull_up {
				actions,pins = "P_I2C0_SCLK","P_I2C0_SDATA";
				actions,pull = <2>; /*pull up*/
			};
		};

		i2c0_state_over_uart0: i2c0_over_uart0 {/* i2c0 use uart0 pin	*/
			i2c0_over_uart0_mfp {
				actions,groups = "mfp2_2_0", "mfp3_21_19";
				actions,function = "i2c0";
			};

			i2c0_over_uart0_paddrv {
				actions,groups = "paddrv2_31_30","paddrv2_29_28";
				actions,paddrv = <0>;/*level 1*/
			};

			i2c0_over_uart0_pull_up {
				actions,pins = "P_UART0_RX","P_UART0_TX";
				actions,pull = <2>; /*pull up*/
			};
		};	

		i2c1_state_default: i2c1_default {/* i2c1 use default pin	*/
			i2c1_default_mfp {
				actions,groups = "i2c1_dummy";
				actions,function = "i2c1";
			};

			i2c1_default_paddrv {
				actions,groups = "paddrv2_22_21";
				actions,paddrv = <0>;/*level 1*/
			};

			i2c1_default_pull_up {
				actions,pins = "P_I2C1_SCLK","P_I2C1_SDATA";
				actions,pull = <0>;	/*stay disabled*/
			};
		};

		i2c2_state_default: i2c2_default {/* i2c2 use default pin*/
			i2c2_default_mfp {
				actions,groups = "i2c2_dummy";
				actions,function = "i2c2";
			};

			i2c2_default_paddrv {
				actions,groups = "paddrv2_22_21";
				actions,paddrv = <0>;/*level 1*/
			};

			i2c2_default_pull_up {
				actions,pins = "P_I2C2_SCLK","P_I2C2_SDATA";
				actions,pull = <2>; /*pull up*/
			};
		};
		
		i2c3_state_over_spi0: i2c3_over_spi0 {/* i2c3 use spi0 pin	*/
			i2c3_over_spi0_mfp {
				actions,groups = "mfp1_4_3";
				actions,function = "i2c3";
			};

			i2c3_over_spi0_paddrv {
				actions,groups = "paddrv1_11_10";
				actions,paddrv = <1>;/*level 1*/
			};

			i2c3_over_spi0_pull_up {
				actions,pins = "P_SPI0_SCLK","P_SPI0_MOSI";
				actions,pull = <0>; /*pull up*/
			};
		};				

		spi0_state_default: spi0_default {
			spi0_mfp {
				actions,groups = "mfp1_2_0","mfp1_4_3";
				actions,function = "spi0";
			};
		};

		spi2_nand_default: spi2_nand_d {
			spi2_mfp {
				actions,groups = "mfp3_2";
				actions,function = "spi2";
			};
		};

		pwm0_state_default: pwm0_default {
			pwm0_mfp {
				actions,groups = "mfp1_31_29_ks_in2";
				actions,function = "pwm0";
			};
		};

		pwm1_state_default: pwm1_default {
			pwm1_mfp {
				actions,groups = "mfp1_28_26_ks_in3";
				actions,function = "pwm1";
			};
		};
		pwm2_state_default: pwm2_default {
			pwm2_mfp {
				actions,groups = "mfp1_28_26_ks_out0";
				actions,function = "pwm2";
			};
		};
		pwm3_state_default: pwm3_default {
			pwm3_mfp {
				actions,groups = "mfp1_28_26_ks_out1";
				actions,function = "pwm3";
			};
		};
		lvds_state_default: lvds_default {
			lvds_mux {
				actions,groups = "mfp1_22_21", "mfp1_6_5", "mfp2_28_27";
				actions,function = "lvds";
			};
		};
		i2s0_state_default: i2s0_default {
			i2s0_default_mfp {
				actions,groups = "mfp0_2_1_i2s0", "mfp0_4_3", "mfp0_5";
				actions,function = "i2s0";
			};
		};
		rgb_state_default: rgb_default {
			rgb_mux {
				actions,groups = "mfp0_25_23","mfp1_16_14", "mfp1_22_21", "mfp1_13_12", "mfp1_11_10", "mfp1_6_5", "mfp2_30_29", "mfp2_28_27";
				actions,function = "lcd0";
			};
		};
	
		pcm0_state_spi0: pcm0_spi0 {
			pcm0_spi0_mfp {
				actions,groups = "mfp1_2_0","mfp1_4_3";
				actions,function = "pcm0";
			};
		};
	
		dsi_state_default: dsi_default {
			dsi_mux {
				actions,groups = "mfp1_20_19", "mfp1_18_17", "mfp1_13_12", "mfp1_11_10", "mfp1_9_7", "mfp2_30_29";
				actions,function = "dsi";
			};
		};
	};

	twd-watchdog@b0020600 {
		status = "disabled";
	};

	serial@b0120000 {
		clock-frequency = <48000000>;
		pinctrl-names = "default";
		pinctrl-0 = <&serial0_state_default>;
//		actions,enable-dma-rx;
		status = "okay";
	};

	serial@b0122000 {
		clock-frequency = <48000000>;
		pinctrl-names = "default";
		pinctrl-0 = <&serial1_state_default>;
//		actions,enable-dma-rx;
		status = "disabled";
	};
         /*for BT*/
	serial@b0124000 {
		clock-frequency = <48000000>;
		pinctrl-names = "default";
		pinctrl-0 = <&serial2_state_default>;
//		actions,enable-dma-rx;
		status = "disabled";
	};

	serial@b0126000 {
		clock-frequency = <48000000>;
		pinctrl-names = "default";
		pinctrl-0 = <&serial3_state_default>;
//		actions,enable-dma-rx;
		status = "okay";
	};

	serial@b0128000 {
		clock-frequency = <48000000>;
		pinctrl-names = "default";
		pinctrl-0 = <&serial4_state_default>;
//		actions,enable-dma-rx;
		status = "disabled";
	};

	serial@b012a000 {
		clock-frequency = <48000000>;
//		pinctrl-names = "default";
//		pinctrl-0 = <&serial5_state_default>;
//		actions,enable-dma-rx;
		status = "okay";
//		sdio_uart_supported;
	};

	serial@b012c000 {
		clock-frequency = <48000000>;
		pinctrl-names = "default";
		pinctrl-0 = <&serial6_state_default>;
//		actions,enable-dma-rx;
		status = "disabled";
	};

	i2c@b0174000 {
		i2c_num = <1>;
		clock-frequency = <400000>;
		status = "okay";
		pinctrl-names = "default";
		pinctrl-0 = <&i2c0_state_default>;
		#address-cells = <1>;
		#size-cells = <0>;	
		
		/* atc2603c (5307) */
		atc260x: atc2603c@65 {
			compatible = "actions,atc2603c";
			reg = <0x65>;
			interrupt-parent = <&sirq>;
			interrupts =< 2 0x4 >;
			interrupt-controller;
			#interrupt-cells = <1>;

			losc_32k_output_enable = <1>;    /* enable/disable output 32.768K clock via I2S_MCLK1 pin */
			losc_32k_output_voltage = <31>;  /* select voltage scale of the 32.768K clock output, 18:1.8v, 31:3.1v */

			pm {
				compatible = "actions,atc2603c-pm";
			};

			onoff {
				compatible = "actions,atc2603c-onoff";
			};

			atc260x-pwm {
				compatible = "actions,atc2603c-pwm";
			};

			rtc{
				compatible = "actions,atc2603c-rtc";
			};

			atc260x_gpio: atc260x_gpio {
				compatible = "actions,atc2603c-gpio";
				gpio-controller;
				#gpio-cells = <2>;
			};

			atc260x_sgpio: atc260x_sgpio {
				compatible = "actions,atc2603c-sgpio";
				gpio-controller;
				#gpio-cells = <2>;
				interrupt-controller;
				#interrupt-cells = <2>;
			};

			atc260x-adckeypad{
#define KEY_HOME				172
#define KEY_MENU				139
#define KEY_BACK				158
#define KEY_VOLUMEDOWN				114
#define KEY_VOLUMEUP				115
				keymapsize = <4>;                   /* number of ADC key */
				filter_dep = <3>;                   /* depth of the moving average filter (length of filter queue) */
				variance = <10>;                    /* filter will not output until the difference between every two ADC samples in the filter queue goes below this value */
				poll_interval =  <10>;              /* sample period, in ms */
				left_adc_val =  <0x00 0x5a 0xaf 0x10e>;     /* for key code translator, each value defines a lower bound of ADC value of a key */
				right_adc_val = <0x1e 0x78 0xdc 0x140>;   /* for key code translator, each value defines a upper bound of ADC value of a key */
				key_val = <0x66 0x8b 0x73 0x72 0x56 0x57 0x58 0x59 0x60 0x0e 0x0f 0x14 0x13 0x5b 0x5c 0x5a 0x5d 0x67>; /* for key code translator, each value defines the key_code of a key */
				adc_channel_name = "AUX0";          /* the ADC channel used for sampling, valid names are REMCON AUX0 AUX1 AUX2 (AUX3) */
				compatible = "actions,atc2603c-adckeypad";
				status = "disabled";                /* enable/disable ADC key function (okay or disabled) */
			};

			/*the cfg params must be read	in the first installed ko,
			 now snd-soc-atv5302.ko is first installed.
			 1, earphone_detect_level use the third value of earphone_gpios
			 2, commonly, we shouldn't change the value of speaker_gain and earphone_gain*/
			
			atc260x-audio{
				compatible = "actions,atc2603c-audio";
				status = "okay";
                                pinctrl-names = "default";
                                pinctrl-0 = <&i2s0_state_default>;				
				earphone_detect_gpios = <&gpio 0x1c 0>; /*0: high, 1: low hr280ac GPIOA21 0*/
				speaker_en_gpios = <&gpio 0x28 1>; /*hr280ac GPIOD(30) 0: high, 1: low*/
				earphone_output_mode = <1>; /*0: direct mode, 1: undirect mode*/
				mic_num = <1>; /*just suport 1, 2*/
				mic0_gain = < 0x7 0x7 >; /*<Lchannel,Rchannel> [0x0~0xF]*/
				speaker_gain = < 0xb4 0xb4 >; /*<Lchannel,Rchannel>[0x00~0xbebe]*/
				earphone_gain = < 0xbe 0xbe >; /*<Lchannel,Rchannel>[0x00~0xbebe]*/
				mic_mode = <1>; /* 1: differential,  2: single end*/
				earphone_detect_method = <3>; /*0:gpio, 1:irq, 2:adc*/	
				//adc_plugin_threshold = <850>; /*adc earphone detect plugin threshold value*/		
				//adc_level = <0>; /*adc plugin level, 1:high vol when plugin; 0:low vol when plug in*/
			};

			atc260x-hwmon{
				compatible = "actions,atc2603c-hwmon";
			};

			atc260x-power{
                                compatible = "actions,atc2603c-power";
                                bl_on_usb_pc_max_charge_current = <0x64>;
                                bl_off_usb_pc_max_charge_current = <0x1f4>;
                                bl_on_usb_adp_max_charge_current = <0x3e8>;
                                bl_off_usb_adp_max_charge_current = <0x4b0>;
                                bl_on_wall_adp_max_charge_current = <0x3e8>;
                                bl_off_wall_adp_max_charge_current = <0x4b0>;
                                bl_on_voltage_diff = <0x15e>;
                                bl_off_voltage_diff = <0x190>;
                                support_adaptor_type = <0x01>;
                                usb_adapter_as_ac = <0x00>;
                                boot_cap_threshold = <0x03>;
                                ext_dcdc_exist = <0x00>;
                                pwms = <0x0d 0x02 0x7a120 0x01>;
                                pwm-names = "ext_moto";
                                ext_charger_exist = <0x00>;
                                charger_led_exist = <0x01>;
                                inner_charger_led_ctl = <0x0c 0x16 0x00>;
                                low_power_led_ctl = <0x0c 0x15 0x01>;
                                work_led_ctl = <0x0c 0x12 0x01>;
                                myotg_id = <0x0c 0x6a 0x00>;
                                otg_1_ctl = <0x0c 0x17 0x00>;
                                otg_2_ctl = <0x0c 0x5f 0x00>;
                                no_screen = <0x01>;
                                temp_ctl_enable = <0x00>;
                                temp_shutdown_low = <0x3ed>;
                                temp_stop_low = <0x00>;
                                temp_shutdown_high = <0x32>;
                                temp_stop_high = <0x2d>;
                                temp_diff_restart = <0x02>;
			};

			atc260x-cap-gauge{
				compatible = "actions,atc2603c-cap-gauge";
				capacity = < 2100 >;                              /*mAh, the full capacity of battery used*/
				icm_available= < 1 >;							  /* 1:available 0:not available */ 
				icm_ohm_val = < 20 >;                             /*mohm,just 20 or 10,for ICM detecting current*/
				taper_voltage = < 4200 >;                         /*mV,the one close to the full capacity*/
				taper_current = <300>; 
				min_over_chg_protect_voltage = < 4275 >;				/*mA,the one close to the full capacity*/
				ch_resistor = <120>;
				disch_resistor = <180>;
				terminal_voltage = <3450>;                        /*mV,the lowest voltage of battery permitted*/
				suspend_current = < 1400 >;                       /* uA,the current of suspend*/
				shutdown_current = < 50 >;                        /* uA,the current of shutdown*/
				print_switch = <0>;                               /*1:open the switch of printing information 0:the opposite*/
				log_switch = <0>;                                 /*0:open the switch of recording charging log 1:the opposite*/
				
				ocv_soc_00 = <3477 3534 3591 3624 3637 3649 3661 3667 3673 3677>;    	 /* capacity:from 1% to 10%*/
				ocv_soc_10 = <3682 3685 3690 3693 3700 3706 3712 3716 3722 3728 >;	 /* capacity:from 11% to 20%*/
				ocv_soc_20 = <3732 3736 3739 3744 3747 3751 3755 3758 3761 3765>;	 /* capacity:from 21% to 30%*/
				ocv_soc_30 = <3768 3771 3775 3777 3782 3784 3788 3791 3793 3794 >;	 /* capacity:from 31% to 40%*/
				ocv_soc_40 = <3800 3801 3804 3807 3812 3815 3819 3823 3825 3830>;	 /* capacity:from 41% to 50%*/
				ocv_soc_50 = <3834 3838 3841 3845 3850 3854 3858 3864 3870 3874>;	 /* capacity:from 51% to 60%*/
				ocv_soc_60 = <3880 3889 3895 3902 3908 3916 3926 3933 3940 3947>;	 /* capacity:from 61% to 70%*/
				ocv_soc_70 = <3954 3961 3968 3972 3979 3985 3992 3997 4005 4012>;	 /* capacity:from 71% to 80%*/
				ocv_soc_80 = <4019 4028 4036 4046 4054 4061 4068 4075 4084 4090>;	 /* capacity:from 81% to 90%*/
				ocv_soc_90 = <4099 4107 4115 4126 4132 4141 4152 4160 4170 4180>;	 /* capacity:from 91% to 100%*/
				
			};

			atc260x-backup{
				compatible = "actions,atc2603c-backup";
				status = "disabled";
			};
 
			vdd_gpu_dcdc: vdd-gpu-dcdc {
				compatible = "actions,atc2603c-ext-pwm-dcdc1","actions,atc2603c-ext-pwm-dcdc";
				regulator-name = "vdd-gpu-dcdc";
				regulator-min-microvolt  = <900000>;
				regulator-max-microvolt = <1250000>;
				regulator-always-on;
				pwms = <&pwm 1 2666 0>;	// 1-pwm1   2666-1/(24M/64)*1000000-1   0 -active high
				table_len = < 15 >;			//length of vdd_cpu_table & pwm_config_table
				vdd_cpu_table = <900000 925000 950000 975000 1000000 1025000 1050000 1075000 1100000 1125000 1150000 1175000 1200000 1225000 1250000>;	//uV
				pwm_config_table = <19 18 17 16 15 14 13 12 11 10 9 8 7 6 5>;	//the pwm period of 1.1v 1.2v 1.3v
			};
 
			vdd_core_dcdc: vdd-core-dcdc {
				compatible = "actions,atc2603c-ext-pwm-dcdc2","actions,atc2603c-ext-pwm-dcdc";
				regulator-name = "vdd-core-dcdc";
				regulator-min-microvolt  = <900000>;
				regulator-max-microvolt = <1250000>;
				regulator-always-on;
				pwms = <&pwm 2 2666 0>;	// 1-pwm1   2666-1/(24M/64)*1000000-1   0 -active high
				table_len = < 15 >;			//length of vdd_cpu_table & pwm_config_table
				vdd_cpu_table = <900000 925000 950000 975000 1000000 1025000 1050000 1075000 1100000 1125000 1150000 1175000 1200000 1225000 1250001>;	//uV
				pwm_config_table = <19 18 17 16 15 14 13 12 11 10 9 8 7 6 5>;	//the pwm period of 1.1v 1.2v 1.3v
			};
 
			dcdc1: dcdc1 {
				compatible = "actions,atc2603c-dcdc1","actions,atc2603c-dcdc";
				regulator-name = "dcdc1";
				regulator-min-microvolt = <700000>;
				regulator-max-microvolt = <1400000>;
				regulator-always-on;
			};

			dcdc2: dcdc2 {
				compatible = "actions,atc2603c-dcdc2","actions,atc2603c-dcdc";
				regulator-name = "dcdc2";
				regulator-min-microvolt = <1300000>;
				regulator-max-microvolt = <2200000>;
				regulator-always-on;
			};

			dcdc3: dcdc3 {
				compatible = "actions,atc2603c-dcdc3","actions,atc2603c-dcdc";
				regulator-name = "dcdc3";
				regulator-min-microvolt = <2600000>;
				regulator-max-microvolt = <3300000>;
				regulator-always-on;
			};

			dcdc4: dcdc4 {
				status = "disabled";
			};

			dcdc5: dcdc5 {
				status = "disabled";
			};

			ldo1: ldo1{
				compatible = "actions,atc2603c-ldo1","actions,atc2603c-ldo";
				regulator-name = "ldo1";
				regulator-min-microvolt  = <2800000>;
				regulator-max-microvolt = <2800000>;
				regulator-always-on;
			};

			ldo2: ldo2{
				compatible = "actions,atc2603c-ldo2","actions,atc2603c-ldo";
				regulator-name = "ldo2";
				regulator-min-microvolt  = <2600000>;
				regulator-max-microvolt = <3300000>;
				regulator-always-on;
			};

			ldo3: ldo3{
				compatible = "actions,atc2603c-ldo3","actions,atc2603c-ldo";
				regulator-name = "ldo3";
				regulator-min-microvolt  = <1500000>;
				regulator-max-microvolt = <2000000>;
				regulator-always-on;
			};

			ldo4: ldo4{
				status = "disabled";
			};

			ldo5: ldo5{
				compatible = "actions,atc2603c-ldo5","actions,atc2603c-ldo";
				regulator-name = "ldo5";
				regulator-min-microvolt  = <3100000>;
				regulator-max-microvolt = <3300000>;
				regulator-suspend-off;
			};

			ldo6: ldo6{
				compatible = "actions,atc2603c-ldo6","actions,atc2603c-ldo";
				regulator-name = "ldo6";
				regulator-min-microvolt  = <700000>;
				regulator-max-microvolt = <1400000>;
				regulator-always-on;
			};

			ldo7: ldo7{
				compatible = "actions,atc2603c-ldo7","actions,atc2603c-ldo";
				regulator-name = "ldo7";
				regulator-min-microvolt  = <1800000>;
				regulator-max-microvolt = <1800000>;
				//regulator-always-on;
				regulator-suspend-off;
			};

			ldo8: ldo8{
				compatible = "actions,atc2603c-ldo8","actions,atc2603c-ldo";
				regulator-name = "ldo8";
				regulator-min-microvolt  = <2300000>;
				regulator-max-microvolt = <3300000>;
			};

			ldo9: ldo9{
				status = "disabled";
			};

			ldo10: ldo10{
				status = "disabled";
			};

			ldo11: ldo11{
				compatible = "actions,atc2603c-ldo11","actions,atc2603c-ldo";
				regulator-name = "ldo11";
				regulator-min-microvolt  = <2600000>;
				regulator-max-microvolt = <3300000>;
				regulator-always-on;
			};

			switch1:switch1{
				compatible = "actions,atc2603c-switch1","actions,atc2603c-switch";
				regulator-name = "switch1";
				regulator-min-microvolt  = <3100000>;
				regulator-max-microvolt = <3300000>;
				regulator-always-on;
			};

			switch2:switch2{
				status = "disabled";
			};
		};
	};
	
	i2c@b0178000 {
		i2c_num = <2>;
		clock-frequency = <400000>;
		status = "okay";
		pinctrl-names = "default";
		pinctrl-0 = <&i2c2_state_default>;

		hdmi_read_edid@30{
			compatible = "actions,hdmi_read_edid";
			reg = <0x30>;
		};
	};

	i2c@b017c000 {
		i2c_num = <3>;
		clock-frequency = <400000>;
		status = "disabled";
		pinctrl-names = "default";
		pinctrl-0 = <&i2c3_state_over_spi0>;
		eg2801_eeprom@14 {
                	compatible ="actions,eg2801_eeprom";
			reg = <0x14>;
                };

                eg2801_ram@55 {
                	compatible ="actions,eg2801_ram";
                	reg = <0x55>;
                };
	};

	spi@b0200000 {
		compatible = "actions,owl-spi";
		reg = <0xb0200000 0x4000>;
		interrupts = <0x00 0x13 0x04>;
		status = "disabled";
	};

	spi@b0204000 {
		status = "disabled";
	};

	spinand@b0208000 {
		compatible = "actions,atm7059a-spinand";
		clock-frequency = <0x2faf080>;
		status = "disabled";
	};
	
	gl5203-audio-i2s{
		#address-cells = <1>;
		#size-cells = <1>; 
		compatible = "actions,owl-audio-i2s";
		reg = <0xb0100000 0x34 0xb0110000 0x8010>;
	};

	gpio@b01b0000 {
		status = "okay";
	};

	nand@b0210000 {
		compatible = "actions,atm7059a-nand";
	};

	ethernet@b0310000 {
		compatible = "actions,owl-ethernet";
	};

	mmc@b0230000 {
		pinctrl-names = "default","share_uart2_5";
		pinctrl-0 = <&mmc0_state_default>;
		pinctrl-1 = <&mmc_share_uart_state>;

		max_clk = <0x17d7840>;
		card_type = "memory";  /* only: "memory", "wifi", or "emmc" */
		card_detect_mode = "gpio";  /* only: "sirq", "gpio", or "command" */
		card_detect_gpios = <&gpio 0x29 0>; /*86v S500 GPIOD24 */  
		interrupts = < 0 42 0x4 >;
		
		status = "okay";

		sd_vcc = "switch1";
		sdio3_0_not_supported;
	};

	mmc@b0234000 {
		pinctrl-names = "default";
		pinctrl-0 = <&mmc1_state_default>;

		card_type = "wifi";  /* only: "memory", "wifi", or "emmc" */

//		status = "okay";
		status = "disabled";
	};

	mmc@b0238000 {
		pinctrl-names = "default";
		pinctrl-0 = <&mmc2_state_default>;
		card_type = "memory";  /* only: "memory", "wifi", or "emmc" */
		card_detect_mode = "command";
		status = "okay";
//		status = "disabled";
	};

	usb@b02b8000 {
		vbus-src = "gpio";  /* only: "gpio", "regulator", or "none" */

		//gpios = <&gpio 23 0>; /* GPIOA19, 0: high, 1: low only when vbus-src is "gpio" */ /*M3305 Not use*/

		vbus-regulator = "LDO1"; /* only when vbus-src is "regulator" */
		regulator-scope = <3300000 3500000>;  /* uV */

		status = "disabled"; /* don't create platform-device */
	};

	usb@b0400000 {
		usb_serialnumber_config = <1>; /* config serialnumber string format, 0: unified ascii; 1:unified unicode; 2:nounified unicode; 3: nounified ascii*/
		usb_hs_output_strength = <2>; /*defaut:2,range:0~7; 0:min,7:max;usb high speed(2.0)transmitter output strength*/
		status = "okay";
	};
  usb@b0600000 { 
     //vbus_otg_en_gpio = <&gpio 116 1>; /*GPIO D20*/ 
     port0_host_plug_detect = <3>;      /*0:disable 1:enable detect and vbus contrl 2:only detect 3:enalbe detect and usb1&usb2 use the same gpio*/
   }; 
   usb@b0700000 { 
     //vbus_otg_en_gpio =<&gpio 116 1>; /*GPIO D20*/ 
     port1_host_plug_detect = <3>;    /*0:disable 1:enable detect and vbus contrl 2:only detect 3:enalbe detect and usb1&usb2 use the same gpio*/
   };

	monitor {
		compatible = "actions,atm7059tc-usbmonitor";
		detect_type = <3>; /* config what to detect, 0:DISABLE ; 1:DEVICE_ONLY; 2:HOST_ONLY; 3: HOST_AND_DEVICE*/
		idpin_type   = <0>; /* 0:use ic's idpin;      1:soft idpin,##no support!##;       2:gpio idpin,use gpio to detect,need to add a "idpin_gpio" configuration */
		vbus_type   = <2>; /* 0:use ic's vbuspin; 1:gpio vbus,##no support!## ;      2:use dc5v to detect vbus level*/
		//fix_vbus_reset = <1>;/* NOTE: it is only used for some specific boards, be careful! */
		
		/*vbus_otg_en_gpio is use to turn on/off otg vbus,it's different from vbus detect gpio;*/  
		vbus_otg_en_gpios = <&gpio 0x4e 0>;  /* GPIOD13,  0: low active; 1: high active */
		//idpin_gpio = <&gpio 63 1>;   /*if idpin detect by gpio,config the gpio to GPIOB31, input,0: low active; 1: high active*/
		status = "okay";
	};

	isp@b0270000 {
		avdd-src = "regulator";  /* only: "gpio", "regulator" */
		//avdd-gpios = <&gpio 14 0>; /* GPIOA14, 0: high, 1: low only when vbus-src is "gpio" */
		avdd-regulator = "ldo1"; /* only when vbus-src is "regulator" */
		avdd-regulator-scope = <2800000 2810000>;  /* uV */
		dvdd-gpios = <&gpio 0x39 0>;
		sensors = "rear"; /* "dual", "front" or "rear" */		
		pwdn-rear-gpios = <&gpio 0x49 0>; /* GPIOC17 */
		pwdn-front-gpios = <&gpio 0x46 0>; /* GPIOC15 */
		rear-reset-gpios = <&gpio 0x72 1>; /*:GPIOC16*/

		status = "disabled"; /* create platform-device */
	};
	
	sensors: isp-sensor {
		compatible = "sensor_common";
		rear_bus_type = "dvp";  /* dvp or mipi */
		front_bus_type = "dvp";
		rear_data_type = "yuv";  /* yuv or raw */
		front_data_type = "yuv";
		host = <&isp0>; /* only isp0 if there is one host, isp0 or isp1 if two hosts */
		rear_channel = <0>;
		front_channel = <0>;
		i2c_adapter = <&i2c2>; /* 0-3 begin from enabled ones */

		pinctrl-names = "default";
		pinctrl-0 = <&isp0_state_csi_dvp>;

		status = "disabled";
	};
	sensor-detect {
		compatible = "sensor_detect";
		status = "disabled";
		hot_plugin_enable = <0>; /* 1-enable, 0-disable */
		sensor_detect_list {
			gc0308 = <1>;  /* 1-detect this sensor, 0-don't detect */
			gc0328 = <1>;
			gc0329 = <1>;
			gc0312 = <1>;
			gc2035 = <1>;
			gc2145 = <1>;
			gc2155 = <1>;
			hi708 = <1>;
			hi257 = <1>;
			ov2686 = <1>;
			ov5640 = <1>;
			sp0718 = <1>;
			sp0a19 = <1>;
			sp2519 = <1>;	
			siv121du = <1>;	
			soc5140 = <1>;
    	};
    };

	
	lcd0: lcd0@b02a0000 {
		status = "okay";
		pinctrl-names = "default";
		pinctrl-0 = <&rgb_state_default>;
		lcd_power_gpios = <&gpio 130 0>;
		//lcd_reset_gpios = <&gpio 131 0>;
		lcd_power_gpios = <&gpio 0x24 0>;
		lcd_reset_gpios = <&gpio 0x23 0>;
		lcd_spics_gpios = <&gpio 0x11 1>;
		lcd_spiclk_gpios = <&gpio 0x78 1>;
		lcd_spidat_gpios = <&gpio 0x79 1>;
		port_type = "rgb";
		data_width = <0>;
		videomode-0 = <&lcd_mode0>;
		vsync_inversion = <1>;
		hsync_inversion = <1>;
		dclk_inversion = <1>;
		lde_inversion = <0>;
		lightness = <0x80>;
		saturation = <7>;
		contrast = <5>;
		lcd_mode0:mode@640x480p60 {
			refresh = <60>;
			xres = <640>;
			yres = <480>;
			/*in pico second, 0.000 000 000 001s*/
			pixclock = <47000>;
			left_margin = <16>;
			right_margin = <20>;
			upper_margin = <15>;
			lower_margin = <5>;
			hsync_len = <30>;
			vsync_len = <2>;
			/*0: FB_VMODE_NONINTERLACED, 1:FB_VMODE_INTERLACED*/
			vmode = <0>;
		};
	};


	hdmi:hdmi@b02c0000{
		status = "okay";
		hdcp_onoff = <0>;
		channel_invert = <0>;
		bit_invert = <0>;
		hotplugable = <1>;
		bootable = <1>; 
		i2cbus = <2>;
		bootrotate = <0>;   
		default_resolution = "1280x720p-60";
	};

        matrix_keypad@0 {
                compatible = "gpio-matrix-keypad";
                status = "disabled";
                debounce-delay-ms = <0x14>;
                col-scan-delay-us = <0x0a>;
                row-gpios = <&gpio 0x2d 0x00 0x0c 0x2e 0x00>;
                col-gpios = <&gpio 0x32 0x00 0x0c 0x33 0x00 0x0c 0x30 0x00 0x0c 0x2f 0x00>;
                linux,keymap = <0x8b 0x1009e 0x2009f 0x30069 0x1000080 0x1010077 0x1020078 0x1030079>;
        };

	
	framebuffer {
		compatible = "actions,framebuffer";  
		def_display  = "lcd";
		xres = <640>;
		yres = <480>;
		bpp = <4>;
		mode = <1>;

	};
	cvbs:cvbs@b02b0000{  
		default_mode = "PAL";
		status ="disabled";
	};

	pwm: pwm@b01b0050 {
		pwm0 {
			id = <0>;
			pinctrl-names = "default";
			pinctrl-0 = <&pwm0_state_default>;
		};
		pwm1 {
			id = <1>;
			pinctrl-names = "default";
			pinctrl-0 = <&pwm1_state_default>;
		};
		pwm2 {
			id = <2>;
			pinctrl-names = "default";
			pinctrl-0 = <&pwm2_state_default>;
		};
		pwm3 {
			id = <3>;
			pinctrl-names = "default";
			pinctrl-0 = <&pwm3_state_default>;
		};
	};

	dsi@b0220000 {
		status = "disabled";
	};

	backlight {
		/*1.pwm num; 2. period in ns; */
		/*3.plarity, 0: high active, 1: low active*/
//		backlight_en_gpios = <&gpio 124 0>; /*S500 GPIOD28*/ 
		pwms = <&pwm 0 0xc350 0>;
		total_steps = <1024>;
		min_brightness = <0>;
		max_brightness = <1024>;
		dft_brightness = <0x190>;
		delay_bf_pwm  = <200>;
		delay_af_pwm  = <10>;	
	};
	
	vibrator {
		compatible = "actions,vibrator";
		status = "disabled";
	};
	
	wifi_bt_power_ctl {
		compatible = "wifi,bt,power,ctl";
		//bt_power_gpio = <&gpio 16 0>;/*GPIOA20, high active*/   /*BT_WAKE*/
		wifi_bt_power_gpios = <&gpio 0x05 0>; /* GPIOB1 */
		bt_en_gpios = <&gpio 0x5b 0>; /*GPIOB2, high active*/ 
		wifi_en_gpios = <&gpio 0x5a 0>; /* GPIOB0 */
	};

	gsensor_detect {
	  compatible = "owl-gsensor-detect";
		i2c_adapter_id = <2>;
	  status = "disabled";
	  gsensor_detect_list {
			compatible = "gsensor_detect_list";
      afa750 =  <0>;
      bma220 =  <0>;
      bma222 =  <1>;
      bma250 =  <0>;
      dmard10 = <0>;
      kxtj9 =   <0>;
      lis3dh =  <0>;
      mc3210 =  <0>;
      mc3230 =  <0>;
      mc3232 =  <1>;
      mc3236 =  <1>;
      mma7660 = <0>;
      mma8452 = <0>;
      stk8312 = <1>;
      stk8313 = <1>;
	  };
	};

	ctp_detect {
		compatible = "owl-ctp-detect";
		i2c_adapter_id = <1>;
		tp_vcc = "ldo5";
		status = "disabled";
		reset_gpios = <&gpio 0x23 1>;    /*GPIOB(3) 0: high, 1: low*/
		interrupt-parent = <&sirq>;
		interrupts =< 0 0x4 >; /*SIRQ0*/
		vol_range = <3100000 3110000>;

		ctp_detect_list {
			compatible = "ctp_detect_list";
			ICN83XX =  <0>;
			GSLX6X0 =  <1>;
			FT52-406 = <0>;
			FT5606 =   <0>;
			GT813 =    <0>;
			AW5206 =   <0>;
			AW5209 =   <0>;
			CT36X =    <0>;
			HL3X06 =   <0>;
			ILITEK =   <0>;
			ili2672 =  <0>;
			ft5x06 =   <0>;
			MT395 =    <0>;
			NT1100X =  <0>;
			SSD254X =  <0>;
	   };
	};
  
	pcm-audio {
		compatible = "actions,pcm-audio";
		status = "okay";
	};
 
	gpu@b0300000 {
		gpuvdd-supply = <&vdd_gpu_dcdc>;
		normal_value = <2>;
		status = "okay";
	};
};
